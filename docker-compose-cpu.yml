services:
  kitten-tts-server:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        # This build argument ensures only CPU dependencies are installed
        - RUNTIME=cpu
    ports:
      - "${PORT:-8005}:8005"
    volumes:
      # Mount local config file for persistence
      - ./config.yaml:/app/config.yaml

    
    restart: unless-stopped
    environment:
      # Enable faster Hugging Face downloads inside the container
      - HF_HUB_ENABLE_HF_TRANSFER=1

