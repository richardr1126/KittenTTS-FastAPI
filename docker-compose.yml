services:
  kittentts-fastapi:
    container_name: kittentts-fastapi
    build:
      context: .
      dockerfile: Dockerfile
      args:
        # This build argument ensures only CPU dependencies are installed
        - RUNTIME=cpu
    ports:
      - "${PORT:-8005}:8005"
    env_file:
      - .env
    
    restart: unless-stopped
    environment:
      # Enable faster Hugging Face downloads inside the container
      - HF_HUB_ENABLE_HF_TRANSFER=1

